<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>H.Gens</title><link href="https://h-gens.github.io/" rel="alternate"></link><link href="https://h-gens.github.io/feeds/misc.atom.xml" rel="self"></link><id>https://h-gens.github.io/</id><updated>2015-11-23T21:12:00+01:00</updated><entry><title>Prindle 19 basics</title><link href="https://h-gens.github.io/prindle-19-basics.html" rel="alternate"></link><updated>2015-11-23T21:12:00+01:00</updated><author><name>H.G.</name></author><id>tag:h-gens.github.io,2015-11-23:prindle-19-basics.html</id><summary type="html">&lt;p&gt;I bought a Prindle 19 catamaran as my first boat.  While I was comfortable on/in the water, I hardly knew anything about sailing.  There was a lot to learn, which is what this post attempts to document.  &lt;/p&gt;
&lt;p&gt;Maybe this will help someone else out there feel less intimidated with regards to getting into catamarans.  My advice is to ignore the racing-minded folk whose comments are always couched in terms of racing and remember one thing instead: &lt;em&gt;the basics of sailing are easy but sailing well is difficult&lt;/em&gt;.  Who cares about the latter if you just want to have fun.  Know your right-of-way rules and stay out of trouble.  &lt;/p&gt;
&lt;p&gt;&lt;img alt="boat from stern" src="images/2015-11-23-prindle19-howto/boat-from-stern.jpg" /&gt;&lt;/p&gt;
&lt;h1&gt;Definitions&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Bitter end&lt;/strong&gt; - The end of a line.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Block&lt;/strong&gt; - Nautical term for a pulley.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Bolt rope&lt;/strong&gt; - The portion of the mainsail's luff that attaches to the mast.  It resembles a rope that has sailcloth wrapped around it.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Bow&lt;/strong&gt; - Front of the boat.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Clew&lt;/strong&gt; - The bottom corner of the sail that is closest to the stern.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Curf&lt;/strong&gt; - The mast's channel through which the mainsail's bolt rope is fed.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Foot&lt;/strong&gt; - The bottom of the sail.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Forestay&lt;/strong&gt; - Metal cabling that extends from the bow to the top of the mast.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Forestay Y&lt;/strong&gt; - The branching of the forestay into two cables terminating at the port/starboard bows.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Halyard&lt;/strong&gt; - A line that raises a sail.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Head&lt;/strong&gt;- The top of the sail.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Luff&lt;/strong&gt; - The vertical edge of a raised sail that faces the bow.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Mast locking hook&lt;/strong&gt; - Hook at the top of the mast where the main halyard ring attaches.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Port&lt;/strong&gt; - Left side of the boat when standing in the middle of the boat and facing the bow.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Safety position&lt;/strong&gt; - When the boat is positioned so that the wind is crossing its side with the jib/mainsheet lines let out so that the sails are not powered up.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Shroud&lt;/strong&gt; - Metal cabling that extends from the top of the mast to either the port or starboard side of the boat.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Stern&lt;/strong&gt; - Rear of the boat.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Starboard&lt;/strong&gt; - Right side of the boat when standing in the middle of the boat and facing the bow.  &lt;/li&gt;
&lt;li&gt;Reference: &lt;a href="https://en.wikipedia.org/wiki/Parts_of_a_sail"&gt;Parts of a sail&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Section I: Rigging&lt;/h1&gt;
&lt;h2&gt;Preparation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Raise mast.&lt;/li&gt;
&lt;li&gt;Insert drain plugs.  &lt;/li&gt;
&lt;li&gt;Insert hull access port covers.  &lt;/li&gt;
&lt;li&gt;Lock the rudders in the "up" position.  &lt;/li&gt;
&lt;li&gt;Attach the tiller.  &lt;/li&gt;
&lt;li&gt;Connect the boom to the mast and connect the mast rotation line from the boom, through the wishbone on the mast, and finally back through the V-cleat on the boom.  &lt;/li&gt;
&lt;li&gt;Install the traveler line, if necessary.  Thread the traveler line through the "eye strap" on the rear crossbar and tie a figure-8 knot at the bitter end.  &lt;/li&gt;
&lt;li&gt;Install the main blocks/sheet by shackling the base of the main blocks to the traveler.  Do not attach to the boom.  Consider tying together the bitter ends of the mainsheet and traveler line.   &lt;/li&gt;
&lt;li&gt;Place the beach wheels under the boat and parallel with the shrouds.  At each shroud, pull up tightly on the adjacent wheel's rope and wrap multiple times around the shroud.  Secure with an easy-to-remove knot (the multiple wraps will hold things in place).  &lt;/li&gt;
&lt;li&gt;Move the boat so that its bows are facing into the wind.  &lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Raising the jib&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Orient the S-hook on the jib halyard so that it appears as an "S" when viewed from the port side of the boat.  &lt;/li&gt;
&lt;li&gt;Use a shackle to connect the lower part of the S-hook to the eyelet on the jib's head.  &lt;/li&gt;
&lt;li&gt;Partially zip the jib to the forestay by enclosing the forestay and jib halyard in the jib's luff.  (Once raised, the jib halyard should be total enclosed in the zipper just like the forestay.)  &lt;/li&gt;
&lt;li&gt;Raise the jib.  Closer the zipper as it's raised.  &lt;/li&gt;
&lt;li&gt;When the S-hook reaches the jib halyard ring near the top of the forestay, it must be locked into the halyard ring.  Pull on the jib halyard so that the S-hook goes through/above the halyard ring, and then pull down on the clew until the S-hook catches.  &lt;/li&gt;
&lt;li&gt;Leave around 1 foot of the jib's luff unzipped.  &lt;/li&gt;
&lt;li&gt;Coil the remaining jib halyard line and store inside the zipper.  &lt;/li&gt;
&lt;li&gt;Tightly wrap the jib downhaul around the forestay Y and secure in the jib cleat.  &lt;/li&gt;
&lt;li&gt;Using a bungee, furl the jib (wrap it around the forestay) to keep it from flapping.  &lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Raising the main&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Connect the main halyard's ring to the eyelet on the mainsail's head using a shackle.  &lt;/li&gt;
&lt;li&gt;Feed the mainsail's bolt rope into the mast's curf.  &lt;/li&gt;
&lt;li&gt;Raise the mainsail by pulling on the main halyard.  &lt;/li&gt;
&lt;li&gt;The mainsail is locked-in when the halyard ring reaches the mastâ€™s locking hook.  The ring will fly completely past the hook if you pull up too hard on the main halyard.  If that happens, then the mainsail will lower without locking-in.  The idea is to pull up just hard enough so that the ring partially passes the locking hook.  If done correctly, the ring will then settle upon the hook when tension is removed from the main halyard.  &lt;/li&gt;
&lt;li&gt;Tug down on the foot of the sail to ensure the halyard ring is locked.  &lt;/li&gt;
&lt;li&gt;Coil the main halyard and store in a trampoline pocket.  &lt;/li&gt;
&lt;li&gt;Thread the downhaul lines on each side of the mainsail.  &lt;/li&gt;
&lt;li&gt;Use a shackle to connect the boom to the clew of the mainsail.  &lt;/li&gt;
&lt;li&gt;Leave boom disconnected from the mainsheet blocks.  &lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Launching&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Uncleat jib/mainsail/traveler lines and let out plenty of line.  This will help avoid powering up the sails before launching.  &lt;/li&gt;
&lt;li&gt;Roll the boat into the water.  &lt;/li&gt;
&lt;li&gt;Point the bow of the boat into the wind.  &lt;/li&gt;
&lt;li&gt;Have another person stand in the water at the bow while holding onto one side of the forestay Y.  This keeps the bows from rotating downwind and the sails from powering up.  One can think of this as "weather-vaning" the boat, and doing so effectively puts the boat into neutral.  &lt;/li&gt;
&lt;li&gt;Remove wheels and store on shore.  &lt;/li&gt;
&lt;li&gt;Walk the boat to deeper water and lock the rudders in the down position.  &lt;/li&gt;
&lt;li&gt;Unfurl the jib and connect the jib line to the clew.  This can be done with a knot, shackle, or climbing carabiner.  &lt;/li&gt;
&lt;li&gt;Connect the mainsheet blocks to the boom using a shackle or carabiner.  &lt;/li&gt;
&lt;li&gt;Give the bow a shove so that the boat rotates partially downwind into the safety position and hop on.  &lt;/li&gt;
&lt;li&gt;Sheet in the jib, then the main.  &lt;/li&gt;
&lt;li&gt;Rotate the centerboards to the down position if heading upwind.  &lt;/li&gt;
&lt;li&gt;Done.  &lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;De-rigging and storage&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Perform the rigging steps in reverse.  &lt;/li&gt;
&lt;li&gt;&lt;em&gt;Suggestion:&lt;/em&gt; leave the drain plugs and hull access port covers open. Yes, water may go in the access port covers but it's going to drain/evaporate.  &lt;/li&gt;
&lt;li&gt;&lt;em&gt;Suggestion:&lt;/em&gt; place cushioning under the sterns.  Closed-cell foam works great.  Use kayak transportation foam (for car-topping) or cut a camping pad into sheets and stack them together.  &lt;/li&gt;
&lt;li&gt;Place the beach wheels' axle one foot forward of the front crossbar and secure the wheels' rope to shroud.  This keeps the boat at an angle and drains water.  The boat can also be left lying flat on the ground, which should be better for longer-term storage.  &lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;Section II: Prindle 19 features&lt;/h1&gt;
&lt;h3&gt;Barberhauler&lt;/h3&gt;
&lt;p&gt;This is intended to help with downwind performance of the jib, I think.  The barberhauler line effectively pulls on the jib's clew so that the jib's foot is more parallel with the front crossbar.  I found it annoying since the previous owner had done a poor job of installing the small blocks that attach to the front crossbar.  I always meant to remove it but never got around to it.  &lt;/p&gt;
&lt;h3&gt;Four-way jib system&lt;/h3&gt;
&lt;p&gt;I never figured out how to use this system properly and instead just set it in a constant configuration.  It's for people who actually know how to sail.  I would suggest removing it if you value trampoline space over performance.  &lt;/p&gt;
&lt;h3&gt;Rotating centerboards&lt;/h3&gt;
&lt;p&gt;These are self-explanatory.  However, one does not rotate them all the way up when going downwind, which is when one makes use of a shock cord running from the shroud to the centerboard's pivoting cylinder.  From &lt;a href="http://www.catsailor.com/forums/ubbthreads.php?ubb=showflat&amp;amp;Number=52609"&gt;"gregP19" on catsailor.com&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;"Each centerboard had a short piece of pvc pipe that slips thru a hole in the board. This piece of pvc acts as a kind of axle allowing the board to pivot into or out of the trunk. The outboard end of this piece of pvc has a small hole that has a 3/8"(I think) piece of shock cord with a stopper knot to hold it in place. The other end of this piece of shock cord is formed into a loop. Hog rings work well here if they are taped to avoid scratching. This loop slides over the shroud chainplate with no slack. When you are going downwind you want your boards up, but not completely up into the trunk because the P19 doesn't have gaskets like the Tornado and you get gurgling in the trunk. The idea is to rotate the board up most of the way and lock it in place. To do this you push the piece of shock cord a couple of inches forward of the verticle slot in the trunk where it normally stays out of the way. You then push the centerboard up and rotate it forward until it jams against the shock cord and stays in place. It's a very simple, foolproof system."&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;Section III: Righting&lt;/h1&gt;
&lt;p&gt;In my brief experience, a capsize was always caused by a cleated mainsheet.  If the mainsheet is left uncleated at all times, the operator can quickly perform an emergency release during an unexpected gust.  Fortunately, the boat is not too difficult to right, especially with more than one person.  If all else fails, hail a motorboat and have them "walk the mast" with their hands while you lean backwards on the righting line.  &lt;/p&gt;
&lt;p&gt;To practice righting, intentionally capsize in deep-enough water by pulling on one of the shrouds or trapeze lines with a partner.  The boat will come down in slow motion if the mainsail is on.  Stay near the trampoline as the boat falls so that the boom does not hit you.  &lt;/p&gt;
&lt;p&gt;In high winds it can actually be easier to right the boat.  However, the boat must be positioned so that the wind flows under the mainsail (equivalent to the bows pointed into the wind).  I believe one would have to stand on the submerged hull closer to its bow in order to get the boat to rotate, although the Prindle 19 manual says to walk towards the stern.  I have no experience doing this.  &lt;/p&gt;
&lt;p&gt;I have no experience righting from the turtle position (capsized boat with mast straight down in the water) because my mast was apparently well-sealed.  The idea is to take the righting line and lean backward from one of the hulls (same idea as righting from a non-turtled position).  &lt;/p&gt;
&lt;h3&gt;Dry-capsize&lt;/h3&gt;
&lt;p&gt;When on land, it is sometimes helpful to lay the boat on its side so that problems near the top of the mast can be sorted out.  Lay the boat down flat and clear our any rocks the hull might land on.  With another person (if necessary) grab a trapeze line and pull.  Once the boat reaches its tipping point, the mast can be caught by reaching for a shroud.  &lt;/p&gt;
&lt;h2&gt;Righting procedure&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Uncleat the jib/mainsheets and traveler.  Let the lines out as far as possible.  If the lines are left cleated the sails may scoop up water and make righting impossible.  &lt;/li&gt;
&lt;li&gt;Throw the righting bag or line over the non-submerged hull.  &lt;/li&gt;
&lt;li&gt;Stand parallel with the front crossbar.  &lt;/li&gt;
&lt;li&gt;Fill the righting bag with water or attach righting line to harness hook by creating a loop in the line.  &lt;/li&gt;
&lt;li&gt;Lean back.  If present, the righting bag should be behind you and over one of your shoulders.  Your legs must be as far out as possible.  The idea is to push your center of mass away from the boat as far as possible in order to create a large righting moment.  &lt;/li&gt;
&lt;li&gt;The boat should right.  Be patient.  Watch out for the dolphin striker and hull falling down.  &lt;/li&gt;
&lt;li&gt;Climb aboard.  &lt;/li&gt;
&lt;li&gt;If the righting bag was used, it may begin to act like a huge sea anchor. Try to pull it aboard by pulling the bottom of the bag so that you don't have to fight the sea anchor effect.  &lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;Section IV: Maintenance&lt;/h1&gt;
&lt;h3&gt;Beach wheels&lt;/h3&gt;
&lt;p&gt;I purchased &lt;a href="http://www.murrays.com/mm5/merchant.mvc?Screen=PROD&amp;amp;Product_Code=13-1402&amp;amp;Category_Code=C-TP"&gt;beach wheels from murrays.com&lt;/a&gt; that are actually sourced from Florida Sailcraft.  I donâ€™t think these require any maintenance and Iâ€™ve heard stories of beach wheels being left outside for years and years.  They're incredibly simple.  Each wheelâ€™s bearings are actually just a bunch of nylon cylinders that are kept in place by a metal annulus on each side of the wheel (cotter pins keep each annulus in place).  &lt;/p&gt;
&lt;h3&gt;Boat cover&lt;/h3&gt;
&lt;p&gt;A sunbrella cover is suggested to preserve the trampoline from UV degradation.  I had one made locally.  The cheap/lazy solution is a tarp, which will only last about a season -- it's amazing what happens to a tarp left outside over a year.  It just starts to disintegrate, which doesn't sit well with me because that means the plastic material is dispersing into the environment.  &lt;/p&gt;
&lt;h3&gt;Bolt rope lubrication&lt;/h3&gt;
&lt;p&gt;Apply paraffin wax to the mainsail's bolt rope to make raising/lowering easier.  "Gulf Wax Household Paraffin Wax" can be found at walmart or amazon.  &lt;/p&gt;
&lt;h3&gt;Cleat rebuild&lt;/h3&gt;
&lt;p&gt;As cleats age, they may need their Delrin bearings replaced.  This is an easy fix.  The cleats on my boat were Harken 150 types.  Order a Harken 150 rebuild kit and disassemble/clean cleat before replacing the bearings.  Some of my boatâ€™s cleats were so old they did not use all the parts present in the rebuild kit.  Search for "H150 Cam Rebuild Kit" on &lt;a href="http://www.apsltd.com"&gt;ASP Ltd&lt;/a&gt;.  &lt;/p&gt;
&lt;h3&gt;Non-skid decking&lt;/h3&gt;
&lt;p&gt;I placed spongy non-skid material on the hulls' top surfaces.  It was purchased from a company that sells a product called &lt;a href="http://www.raptordeck.com"&gt;"Raptor deck"&lt;/a&gt;.  They produce a foam non-skid with adhesive backing (grooves are cut into the foam surface to form diamond shapes).  They shape the panels according to a stencil or measurements you provide.  I had to sand off the previous non-skid that had been painted on so that the adhesive would adhere better.  &lt;/p&gt;
&lt;h3&gt;Raising/lowering the mast&lt;/h3&gt;
&lt;p&gt;Insert the mast step hinge and the two mast hinge pins.  Have one person on the trampoline ready to support the mast and another person at the forestay.  The person at the forestay removes the forestay shackle and lets go of the forestay.  The person on the trampoline must support the mast and must be strong enough to do so.  Other people have devised electronic winching mechanisms so they can do this solo.  &lt;/p&gt;
&lt;p&gt;For transporting, the shrouds are coiled (without detaching them from the mast or the hulls' shroud chainplates) and secured to the trampoline.  &lt;/p&gt;
&lt;h3&gt;Wintering&lt;/h3&gt;
&lt;p&gt;Remove beach wheels from under the boat so that the hulls lay on the ground.  Optionally, place a strip of carpet under each hull.  Choose a width that prevents grass from growing into and possibly staining the hulls.  I've seen boats wintered without carpet and they seemed fine in the Spring.  Last I spoke with an older member of my sailing club, there are two schools of thought regarding the shrouds' tension (slackened or leave tightened) for mast-up boat storage over the winter.  From our discussion, the conclusion was to just leave them alone.  &lt;/p&gt;
&lt;h3&gt;Replacement lines&lt;/h3&gt;
&lt;p&gt;What follows is a list of lines used on the Prindle 19 and their diameters.  Precut lines can be purchased from &lt;a href="http://www.saltydogmarine.com/product_info.php?cPath=421&amp;amp;products_id=3858"&gt;Salty Dog Marine&lt;/a&gt;.  &lt;/p&gt;
&lt;table&gt;
    &lt;tr&gt;
        &lt;td&gt;&lt;/td&gt;
        &lt;td colspan=2&gt;Diameter&lt;/td&gt;
        &lt;td colspan=2&gt;Length&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Name&lt;/td&gt;
        &lt;td&gt;inches&lt;/td&gt;
        &lt;td&gt;mm&lt;/td&gt;
        &lt;td&gt;ft&lt;/td&gt;
        &lt;td&gt;cm&lt;/td&gt;
        &lt;td&gt;qty&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Barberhauler&lt;/td&gt;
        &lt;td&gt;1/4&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
        &lt;td&gt;18&lt;/td&gt;
        &lt;td&gt;487.7&lt;/td&gt;
        &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Batten ties&lt;/td&gt;
        &lt;td&gt;3/32&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;1.83&lt;/td&gt;
        &lt;td&gt;55.9&lt;/td&gt;
        &lt;td&gt;11&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Downhaul&lt;/td&gt;
        &lt;td&gt;1/4&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
        &lt;td&gt;15&lt;/td&gt;
        &lt;td&gt;457.2&lt;/td&gt;
        &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Jib block adjustment&lt;/td&gt;
        &lt;td&gt;1/4&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
        &lt;td&gt;9&lt;/td&gt;
        &lt;td&gt;274.3&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Jib clew bridle&lt;/td&gt;
        &lt;td&gt;3/16&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
        &lt;td&gt;182.9&lt;/td&gt;
        &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Jib halyard&lt;/td&gt;
        &lt;td&gt;5/32&lt;/td&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;22&lt;/td&gt;
        &lt;td&gt;670.6&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Jib sheet&lt;/td&gt;
        &lt;td&gt;5/16&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;33&lt;/td&gt;
        &lt;td&gt;1005.8&lt;/td&gt;
        &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Main halyard&lt;/td&gt;
        &lt;td&gt;3/16&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;61&lt;/td&gt;
        &lt;td&gt;1859.3&lt;/td&gt;
        &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Main sheet&lt;/td&gt;
        &lt;td&gt;3/8&lt;/td&gt;
        &lt;td&gt;10&lt;/td&gt;
        &lt;td&gt;40&lt;/td&gt;
        &lt;td&gt;1219.2&lt;/td&gt;
        &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Mast rotator&lt;/td&gt;
        &lt;td&gt;3/16&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;152.4&lt;/td&gt;
        &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Rudder pull down&lt;/td&gt;
        &lt;td&gt;1/4&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;121.9&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Rudder pull up&lt;/td&gt;
        &lt;td&gt;1/4&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;152.4&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Tramp lace&lt;/td&gt;
        &lt;td&gt;3/16&lt;/td&gt;
        &lt;td&gt;5&lt;/td&gt;
        &lt;td&gt;19&lt;/td&gt;
        &lt;td&gt;579.1&lt;/td&gt;
        &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Trapeze adjustment&lt;/td&gt;
        &lt;td&gt;1/4&lt;/td&gt;
        &lt;td&gt;6&lt;/td&gt;
        &lt;td&gt;3.5&lt;/td&gt;
        &lt;td&gt;106.7&lt;/td&gt;
        &lt;td&gt;4&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;Traveler&lt;/td&gt;
        &lt;td&gt;5/16&lt;/td&gt;
        &lt;td&gt;8&lt;/td&gt;
        &lt;td&gt;10&lt;/td&gt;
        &lt;td&gt;304.8&lt;/td&gt;
        &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;

&lt;h1&gt;Section V: Images&lt;/h1&gt;
&lt;div class="container" style="max-width:750px"&gt;

    &lt;ul class="gridderA"&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderA-content-2"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/boom-bolt.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderA-content-5"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/halyard-ring.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderA-content-6"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/wheels-to-shroud.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderA-content-8"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/boom-clew-attach.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderA-content-7"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/hull-cushion.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderA-content-1"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/traveler-figure-8.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderA-content-3"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/boom-mast-rotation.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderA-content-4"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/bowline-to-traveler.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderA-content-9"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/mast-step-hinge.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderA-content-10"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/mast-supporter.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
    &lt;/ul&gt;


    &lt;div id="gridderA-content-2" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/boom-bolt.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;p style="max-width:750px"&gt;Boom connects to mast with a single, long clevis pin.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderA-content-5" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/halyard-ring.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;p style="max-width:750px"&gt;This is an "Aussie" halyard ring because it has the halyard attachment ring offset ~30 degrees from center.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderA-content-6" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/wheels-to-shroud.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;p style="max-width:750px"&gt;When securing the beach wheels to the boat, wrap the shroud several times and secure in an easy-to-remove manner.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderA-content-8" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/boom-clew-attach.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;p style="max-width:750px"&gt;Example showing mainsheet blocks attached to the boom with a caribiner.  The shackle at the top connects the boom's outhaul with the mainsail's clew.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderA-content-7" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/hull-cushion.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;p style="max-width:750px"&gt;Example of cushioning provided to the stern using stacked sheets of foam camping pads.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderA-content-1" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/traveler-figure-8.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;p style="max-width:750px"&gt;Traveler line goes through a "pad eye" (or, "eye strap") on the rear cross bar and a figure-8 knot keeps it from being pulled through.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderA-content-3" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/boom-mast-rotation.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;p style="max-width:750px"&gt;Mast rotation line.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderA-content-4" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/bowline-to-traveler.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;p style="max-width:750px"&gt;Connect the traveler and mainsheet lines to make it easier to access the traveler line.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderA-content-9" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/mast-step-hinge.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;p style="max-width:750px"&gt;Mast step hinge and pins.  I think that only one of the pins is truly a mast step hinge pin (the larger diameter one with the ring).&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderA-content-10" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/mast-supporter.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;p style="max-width:750px"&gt;PVC mast support for trailering.  The cutout on the left rests on the rear crossbar, and the cutout on the right supports the mast (place padding here).&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

&lt;/div&gt;

&lt;h3&gt;Coiling lines&lt;/h3&gt;
&lt;p&gt;Use this technique when coiling lines to avoid twisting them and making the unraveling process a mess. &lt;/p&gt;
&lt;div class="container" style="max-width:750px"&gt;

    &lt;ul class="gridderB"&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderB-content-1"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/coiling-1.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderB-content-2"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/coiling-2.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderB-content-3"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/coiling-3.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderB-content-4"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/coiling-4.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderB-content-5"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/coiling-5.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderB-content-6"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/coiling-6.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
        &lt;li class="gridder-list" data-griddercontent="#gridderB-content-7"&gt;
            &lt;img src="images/2015-11-23-prindle19-howto/coiling-7.jpg" class="img-responsive" /&gt;
        &lt;/li&gt;
    &lt;/ul&gt;


    &lt;div id="gridderB-content-1" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/coiling-1.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;h2&gt;Step 1&lt;/h2&gt;
                &lt;p style="max-width:750px"&gt;Alternately drape the line over each side of your hand.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderB-content-2" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/coiling-2.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;h2&gt;Step 2&lt;/h2&gt;
                &lt;p style="max-width:750px"&gt;Fold the draped line in half.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderB-content-3" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/coiling-3.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;h2&gt;Step 3&lt;/h2&gt;
                &lt;p style="max-width:750px"&gt;Use the remaining uncoiled line and wrap it around the folded line.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderB-content-4" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/coiling-4.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;h2&gt;Step 4&lt;/h2&gt;
                &lt;p style="max-width:750px"&gt;Take the remaining line and form a loop.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderB-content-5" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/coiling-5.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;h2&gt;Step 5&lt;/h2&gt;
                &lt;p style="max-width:750px"&gt;Push the loop through the inside center of the folded line.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="gridderB-content-6" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/coiling-6.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;h2&gt;Step 6&lt;/h2&gt;
                &lt;p style="max-width:750px"&gt;Bring the loop back over the outside of the folded line.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt; 
    &lt;div id="gridderB-content-7" class="gridder-content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;img src="images/2015-11-23-prindle19-howto/coiling-7.jpg" class="img-responsive" /&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-6"&gt;
                &lt;h2&gt;Step 7&lt;/h2&gt;
                &lt;p style="max-width:750px"&gt;Cinch tightly.  The bitter end should be secured and the coil now fixed in place.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

&lt;/div&gt;

&lt;h1&gt;Section VI: Helpful links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.thebeachcats.com"&gt;The Beach Cats&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/P19_18-2-1.pdf"&gt;Prindle 19 manual&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/cat_trax.pdf"&gt;Cat trax instructions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;script&gt;
jQuery(document).ready(function ($) {

    // Call Gridder 1
    $(".gridderB").gridderExpander({
        scroll: true,
        scrollOffset: 60,
        scrollTo: "panel", // panel or listitem
        animationSpeed: 400,
        animationEasing: "easeInOutExpo",
        onStart: function(){
            // console.log("Gridder Inititialized");
        },
        onContent: function(){
            // console.log("Gridder Content Loaded");
            // $(".carousel").carousel();
        },
        onClosed: function(){
            // console.log("Gridder Closed");
        }
    });

    // Call Gridder 1
    $(".gridderA").gridderExpander({
        scroll: true,
        scrollOffset: 60,
        scrollTo: "panel", // panel or listitem
        animationSpeed: 400,
        animationEasing: "easeInOutExpo",
        onStart: function(){
            // console.log("Gridder Inititialized");
        },
        onContent: function(){
            // console.log("Gridder Content Loaded");
            // $(".carousel").carousel();
        },
        onClosed: function(){
            // console.log("Gridder Closed");
        }
    });

});
&lt;/script&gt;</summary><category term="sailing"></category></entry><entry><title>Recovering a lost combination</title><link href="https://h-gens.github.io/recovering-a-lost-combination.html" rel="alternate"></link><updated>2015-11-21T14:21:00+01:00</updated><author><name>H.G.</name></author><id>tag:h-gens.github.io,2015-11-21:recovering-a-lost-combination.html</id><summary type="html">&lt;p&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I lost the combination to an old Master Lock of mine. Fortunately, figuring out the combination for my type of lock is a &lt;a href="http://www.wikihow.com/Crack-a-%22Master-Lock%22-Combination-Lock"&gt;well-known process&lt;/a&gt;. Unfortunately, the previous link's method for finding the third value in the combination did not work for me, but I &lt;a href="http://masterunlocked.com/index1.html"&gt;found instructions&lt;/a&gt; that were very helpful. Once the third value is found there is an algorithm to generate 80 possible combinations, which is where Python comes in.&lt;/p&gt;
&lt;h4 id="procedure-outline"&gt;Procedure outline&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;Only apply this method to locks for which you are the sole owner.&lt;/em&gt;&lt;/p&gt;
&lt;ol style="list-style-type: decimal"&gt;
&lt;li&gt;&lt;p&gt;Clear the lock by spinning the dial clockwise by three revolutions, ending with the dial set to zero.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rotate the dial through its twelve &amp;quot;sticking points&amp;quot; and find the non-fake sticking point. This non-fake point is the third value in the lock's combination.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Once the third value is found, run the script that follows.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="sticking-points"&gt;Sticking points&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sticking points occur when you pull up on the shackle and are only able to rotate the dial by approximately +/- 0.5.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Once you've found a sticking point, move to the next one by removing tension from the shackle. Rotate the dial slightly counter-clockwise so that the next sticking point will catch upon tensioning the shackle again.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="a-sticking-point-is-likely-fake-if"&gt;A sticking point is likely fake if:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The dial pivots between two whole numbers (e.g., 20 and 21).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When you pull up super hard on the shackle the dial's rotation becomes limited. (When I successfully found my third value, the dial rotated by +/-0.5 freely regardless of how much tension I applied to the shackle.)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Python-implementation"&gt;Python implementation&lt;a class="anchor-link" href="#Python-implementation"&gt;&amp;#182;&lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing code_cell vbox"&gt;
&lt;div class="input hbox"&gt;
&lt;div class="prompt input_prompt"&gt;
In&amp;nbsp;[1]:
&lt;/div&gt;
&lt;div class="input_area box-flex1"&gt;
&lt;div class="highlight-ipynb"&gt;&lt;pre class="ipynb"&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;1. First find the non-fake sticking point (the third value).&lt;/span&gt;
&lt;span class="sd"&gt;2. Enter the third_value below, then run the script.&lt;/span&gt;
&lt;span class="sd"&gt;3. Try each combination until the correct one is found.&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="c"&gt;# ------------------------&lt;/span&gt;
&lt;span class="c"&gt;# user-defined input&lt;/span&gt;
&lt;span class="c"&gt;# ------------------------&lt;/span&gt;
&lt;span class="c"&gt;# Find the third value manually, then assign it here.&lt;/span&gt;
&lt;span class="n"&gt;third_value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;

&lt;span class="c"&gt;# ------------------------&lt;/span&gt;
&lt;span class="c"&gt;# algorithm&lt;/span&gt;
&lt;span class="c"&gt;# ------------------------&lt;/span&gt;
&lt;span class="c"&gt;# Divide by 4 and store the remainder.  The remainder is called the&lt;/span&gt;
&lt;span class="c"&gt;# &amp;quot;magic number&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;magic_number&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;third_value&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;

&lt;span class="c"&gt;# Compute the possible values for the first value.&lt;/span&gt;
&lt;span class="n"&gt;first_values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;magic_number&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="c"&gt;# Compute the possible values for the second value.&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;magic_number&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
    &lt;span class="n"&gt;magic_number&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;magic_number&lt;/span&gt; &lt;span class="o"&gt;-=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="n"&gt;second_values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;magic_number&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="c"&gt;# The two values closest to third_value can be eliminated.&lt;/span&gt;
&lt;span class="n"&gt;second_values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;second_values&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;third_value&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="c"&gt;# Compute the possible combinations.&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;n1&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;first_values&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;n2&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;second_values&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt; - &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt; - &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;third_value&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="c"&gt;# Uncomment the following line to pause the looping.&lt;/span&gt;
        &lt;span class="c"&gt;# r = raw_input(&amp;#39;continue ?&amp;#39;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;div class="vbox output_wrapper"&gt;
&lt;div class="output vbox"&gt;


&lt;div class="hbox output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="box-flex1 output_subarea output_stream output_stdout"&gt;
&lt;pre&gt;
0 - 2 - 20
0 - 6 - 20
0 - 10 - 20
0 - 14 - 20
0 - 26 - 20
0 - 30 - 20
0 - 34 - 20
0 - 38 - 20
4 - 2 - 20
4 - 6 - 20
4 - 10 - 20
4 - 14 - 20
4 - 26 - 20
4 - 30 - 20
4 - 34 - 20
4 - 38 - 20
8 - 2 - 20
8 - 6 - 20
8 - 10 - 20
8 - 14 - 20
8 - 26 - 20
8 - 30 - 20
8 - 34 - 20
8 - 38 - 20
12 - 2 - 20
12 - 6 - 20
12 - 10 - 20
12 - 14 - 20
12 - 26 - 20
12 - 30 - 20
12 - 34 - 20
12 - 38 - 20
16 - 2 - 20
16 - 6 - 20
16 - 10 - 20
16 - 14 - 20
16 - 26 - 20
16 - 30 - 20
16 - 34 - 20
16 - 38 - 20
20 - 2 - 20
20 - 6 - 20
20 - 10 - 20
20 - 14 - 20
20 - 26 - 20
20 - 30 - 20
20 - 34 - 20
20 - 38 - 20
24 - 2 - 20
24 - 6 - 20
24 - 10 - 20
24 - 14 - 20
24 - 26 - 20
24 - 30 - 20
24 - 34 - 20
24 - 38 - 20
28 - 2 - 20
28 - 6 - 20
28 - 10 - 20
28 - 14 - 20
28 - 26 - 20
28 - 30 - 20
28 - 34 - 20
28 - 38 - 20
32 - 2 - 20
32 - 6 - 20
32 - 10 - 20
32 - 14 - 20
32 - 26 - 20
32 - 30 - 20
32 - 34 - 20
32 - 38 - 20
36 - 2 - 20
36 - 6 - 20
36 - 10 - 20
36 - 14 - 20
36 - 26 - 20
36 - 30 - 20
36 - 34 - 20
36 - 38 - 20

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Download this post's IPython notebook &lt;a href="https://github.com/h-gens/h-gens.github.io-pelican/tree/master/content/notebooks/"&gt;here&lt;/a&gt;.  &lt;/p&gt;</summary><category term="python"></category></entry><entry><title>Controlling instruments over GPIB with SCPI</title><link href="https://h-gens.github.io/controlling-instruments-over-gpib-with-scpi.html" rel="alternate"></link><updated>2015-04-17T20:41:00+02:00</updated><author><name>H.G.</name></author><id>tag:h-gens.github.io,2015-04-17:controlling-instruments-over-gpib-with-scpi.html</id><summary type="html">&lt;p&gt;An electronics lab contains equipment that can usually be controlled through at least two means:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;the instrument's front panel  &lt;/li&gt;
&lt;li&gt;the instrument's GPIB address  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;GPIB stands for &lt;a href="https://en.wikipedia.org/wiki/IEEE-488"&gt;General Purpose Interface Bus&lt;/a&gt; and provides a way of sending commands to the instrument.  These commands are referred to as SCPI commands (&lt;a href="https://en.wikipedia.org/wiki/Standard_Commands_for_Programmable_Instrumentation"&gt;Standard Commands for Programmable Instruments&lt;/a&gt;), which are often found listed in an instrument's programming manual.  Every operation that can be performed via the instrument's front panel should have an equivalent SCPI command.  &lt;/p&gt;
&lt;p&gt;This post shows a brief Python script that talks to an Agilent E5270 DC parameteric measurement instrument and conducts a staircase sweep.  To run it one needs a GPIB card on the controlling computer, the &lt;a href="https://pyvisa.readthedocs.org/en/master/"&gt;PyVISA&lt;/a&gt; package, Keysight IO Libraries Suite, and the GPIB address of the E5270.  The script should work with an HP4142, which has almost identical settings and SCPI commands.  &lt;/p&gt;
&lt;h3&gt;Why Python?&lt;/h3&gt;
&lt;p&gt;Well, I personally do data analysis in Python (numpy/scipy/matplotlib modules and the Spyder IDE that is reminiscent of MATLAB; see &lt;a href="https://code.google.com/p/pythonxy/"&gt;Python(x,y)&lt;/a&gt; or &lt;a href="https://winpython.github.io/"&gt;WinPython&lt;/a&gt;), so it made sense for me to automate measurements in a language I'm already comfortable in.  I find the file IO and string/data manipulation features of Python to be much easier to use and read than those available in other languages.  Just by glancing at example code in a programming manual written in C++ or Visual Basic makes me readily appreciative of the straightforwardness and readibility of Python code.  &lt;/p&gt;
&lt;h3&gt;Useful links&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://cp.literature.agilent.com/litweb/pdf/E5260-90010.pdf"&gt;Agilent E5270 Series Programming Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.keysight.com/en/pd-1985909/io-libraries-suite?&amp;amp;cc=US&amp;amp;lc=eng"&gt;Keysight IO Libraries Suite&lt;/a&gt;&lt;br /&gt;
(Note: Keysight was the electronics measurement division of Agilent before being spun-off.  Similarly, Agilent was the electronics measurement division of HP before being spun-off.)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Example Python script&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;A sequence of commands to execute a staircase measurement of a 3-terminal&lt;/span&gt;
&lt;span class="sd"&gt;transistor (source/gate/drain terminals)&lt;/span&gt;

&lt;span class="sd"&gt;Assumed SMUs (source measure units) and their channels:&lt;/span&gt;
&lt;span class="sd"&gt;    two high-power SMUs on channels 2 and 4&lt;/span&gt;
&lt;span class="sd"&gt;    one medium-power SMU on channel 5&lt;/span&gt;

&lt;span class="sd"&gt;Biasing conditions:&lt;/span&gt;
&lt;span class="sd"&gt;    source on channel 2 is biased at a constant 0V.  &lt;/span&gt;
&lt;span class="sd"&gt;    drain on channel 4 is staircased from 0 to 10V by 0.1V.  &lt;/span&gt;
&lt;span class="sd"&gt;    gate on channel 5 is biased at a constant 3V.&lt;/span&gt;

&lt;span class="sd"&gt;See manual for a description of arguments passed to each SCPI command.&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;visa&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;

&lt;span class="c"&gt;# the GPIB card number on the local computer&lt;/span&gt;
&lt;span class="n"&gt;card_address&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="c"&gt;# the instrument&amp;#39;s GPIB address&lt;/span&gt;
&lt;span class="c"&gt;# (use visa.get_instruments_list() to discover instruments)&lt;/span&gt;
&lt;span class="n"&gt;instrument_address&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;17&lt;/span&gt;
&lt;span class="c"&gt;# time to sleep after issuing a write command&lt;/span&gt;
&lt;span class="c"&gt;# (this slows Python down and allows the instrument to keep up)&lt;/span&gt;
&lt;span class="n"&gt;delay&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.1&lt;/span&gt;

&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;visa&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;instrument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s"&gt;&amp;#39;GPIB&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt;::&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s"&gt;::INSTR&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;card_address&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;instrument_address&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="n"&gt;delay&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;delay&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# -----------------&lt;/span&gt;
&lt;span class="c"&gt;# instrument setup&lt;/span&gt;
&lt;span class="c"&gt;# -----------------&lt;/span&gt;
&lt;span class="c"&gt;# reset the instrument&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;*rst&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# set the measurement mode to staircase sweep&lt;/span&gt;
&lt;span class="c"&gt;# specify the channels that should be measured&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;mm 2,2,4,5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# configure the staircase on channel 4 (drain)&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;wv 4,1,0,0,10,101,1e-2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# enable the output switches on channels 2,4,5&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;cn 2,4,5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# set the bias of the constant channels 2/5 (source/gate)&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;dv 2,0,0,1e-2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;dv 5,0,3,1e-4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# -----------------&lt;/span&gt;
&lt;span class="c"&gt;# execute and close&lt;/span&gt;
&lt;span class="c"&gt;# -----------------&lt;/span&gt;
&lt;span class="c"&gt;# execute the measurement&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;xe&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# close all channels so they no longer are outputting voltage&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;cl&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# read the result from the output buffer&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;While the measurement data is now held in the 'result' variable, it needs to be processed.  As-is, 'result' is a string composed of comma-separated values.  If this string were to be split by commas (i.e., &lt;code&gt;result.split(',')&lt;/code&gt;) then the length of the resulting list would be 3 x &lt;code&gt;len(staircase)&lt;/code&gt;.  One multiplies by 3 because for each point in the staircase sweep there are three channels measured whose values appear consecutively in the 'result' string.  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Example 'result' string:&lt;/strong&gt; NEI+0.00005E-09,NBI+0.00000E-09,NDI+0.00010E-09,NEI+0.00010E-09,NBI+0.00007E-09,NDI+0.00080E-09, ...  (Notice how the second character's cycle starts over after the third group of values.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In each comma-separated value there are three preceding characters.  The first character is the status code.  The second character is the letter code.  There is a unique letter code for each channel in the E5270, so a mapping dictionary is referred to in order to figure out which channel corresponds to which letter code.  The third character indicates the data type.  See page 36 of the programming manual linked above.  &lt;/p&gt;
&lt;h2&gt;Processing the result&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# -----------------&lt;/span&gt;
&lt;span class="c"&gt;# parsing data&lt;/span&gt;
&lt;span class="c"&gt;# -----------------&lt;/span&gt;
&lt;span class="c"&gt;# this is the letter code mapping dictionary&lt;/span&gt;
&lt;span class="c"&gt;# (see page 37 of the programming manual)&lt;/span&gt;
&lt;span class="n"&gt;CHANNELS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s"&gt;&amp;#39;B&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Is&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c"&gt;# channel 2&lt;/span&gt;
    &lt;span class="s"&gt;&amp;#39;D&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c"&gt;# channel 4&lt;/span&gt;
    &lt;span class="s"&gt;&amp;#39;E&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Ig&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c"&gt;# channel 5&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c"&gt;# split the CSV string so it can be iterated over&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;currents&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s"&gt;&amp;#39;Id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[],&lt;/span&gt;
    &lt;span class="s"&gt;&amp;#39;Is&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[],&lt;/span&gt;
    &lt;span class="s"&gt;&amp;#39;Ig&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c"&gt;# iterate over the result list and store the values as floats&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;entry&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="c"&gt;# get the terminal name by consulting the mapping dictionary&lt;/span&gt;
    &lt;span class="n"&gt;terminal_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;CHANNELS&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;entry&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
    &lt;span class="c"&gt;# convert the numerical portion of the string to a float&lt;/span&gt;
    &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;entry&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:])&lt;/span&gt;
    &lt;span class="c"&gt;# store value within the &amp;#39;currents&amp;#39; dict&lt;/span&gt;
    &lt;span class="n"&gt;currents&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;terminal_name&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# -----------------&lt;/span&gt;
&lt;span class="c"&gt;# plotting&lt;/span&gt;
&lt;span class="c"&gt;# -----------------&lt;/span&gt;
&lt;span class="c"&gt;# create the independent variable (Vd) so the result can be plotted&lt;/span&gt;
&lt;span class="n"&gt;Vd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;101&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# plot the data&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;clf&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Vd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;currents&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;clf&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;semilogy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Vd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;currents&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Ig&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Closing&lt;/h3&gt;
&lt;p&gt;That concludes the quick introduction to instrument control via GPIB+SCPI.  In a more complete instrument controller, I would send additional commands to change instrument settings such as integration time and store results in &lt;a href="http://pandas.pydata.org/"&gt;pandas&lt;/a&gt; DataFrames (or numpy arrays).  Instead of a one-off script, it is often useful to create a class for a particular instrument that contains methods to perform many different types of measurements.  This makes the instrument an importable library with a human-readable command set and avoids having to write/remember SCPI commands.  &lt;/p&gt;</summary><category term="python"></category></entry><entry><title>Converting IPython notebooks to PDFs</title><link href="https://h-gens.github.io/converting-ipython-notebooks-to-pdfs.html" rel="alternate"></link><updated>2015-01-04T09:35:00+01:00</updated><author><name>H.G.</name></author><id>tag:h-gens.github.io,2015-01-04:converting-ipython-notebooks-to-pdfs.html</id><summary type="html">&lt;p&gt;A few weeks ago I wanted to share an &lt;a href="http://ipython.org/"&gt;IPython notebook&lt;/a&gt; with a friend who did not have IPython installed.  The natural choice was to convert it to a PDF, which turned out to be more painful than expected.  The following instructions are written for Windows users and IPython v2.3.  The only dependency is &lt;a href="http://wkhtmltopdf.org/"&gt;wkhtmltopdf&lt;/a&gt; (webkit HTML to PDF).  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;In the notebook editor, export to HTML.&lt;br /&gt;
  a. File -&amp;gt; Download as -&amp;gt; HTML (.html)&lt;br /&gt;
  b. You will need to manually collect required images and place them in the correct relative path to the exported file or change src="..." paths in the HTML.  &lt;/li&gt;
&lt;li&gt;If you use a custom.css file then either edit the exported HTML file to point to it or copy the file to the expected path.&lt;br /&gt;
  a. custom.css lives in &lt;em&gt;~/.ipython/profile_default/static/custom/&lt;/em&gt;  &lt;/li&gt;
&lt;li&gt;Open the exported HTML file in your browser and save it (&lt;em&gt;File -&amp;gt; Save As&lt;/em&gt;).&lt;br /&gt;
  a. While this step seems unnecessary, without it my MathJax markup was the wrong font size in the resulting PDF.  &lt;/li&gt;
&lt;li&gt;Run wkhtmltopdf on the saved copy from the previous step.&lt;br /&gt;
  a. &lt;strong&gt;wkhtmltopdf.exe -s Letter -L 40mm -R 40mm -T 20mm -B 20mm --javascript-delay 5000 infile.html outfile.pdf&lt;/strong&gt;  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The &lt;strong&gt;-s&lt;/strong&gt; argument sets the page size.  The &lt;strong&gt;-L, -R, -T, -B&lt;/strong&gt; arguments set the left/right/top/bottom margins.  The &lt;strong&gt;--javascript-delay&lt;/strong&gt; argument gives the MathJax javascript time to run (the time required probably depends on document size).  There are many options available in wkhtmltopdf, which can be viewed by calling the executable from the command line without any arguments.  &lt;/p&gt;</summary><category term="python"></category></entry><entry><title>Getting started with Pelican and IPython notebooks</title><link href="https://h-gens.github.io/getting-started-with-pelican-and-ipython-notebooks.html" rel="alternate"></link><updated>2015-01-03T09:19:00+01:00</updated><author><name>H.G.</name></author><id>tag:h-gens.github.io,2015-01-03:getting-started-with-pelican-and-ipython-notebooks.html</id><summary type="html">&lt;p&gt;This site was created with the static site generator, &lt;a href="http://docs.getpelican.com/en/3.5.0/"&gt;Pelican&lt;/a&gt;.  I chose Pelican in order to use &lt;a href="https://jakevdp.github.io"&gt;jakevdp's&lt;/a&gt; liquid_tags notebook &lt;a href="https://github.com/getpelican/pelican-plugins/blob/master/liquid_tags/notebook.py"&gt;plugin&lt;/a&gt; that allows for posting a subset of &lt;a href="http://ipython.org/"&gt;IPython&lt;/a&gt; notebook cells.  The comments below are for Pelican v3.5.0, IPython v1.2, and a December 30, 2014 clone of pelican-plugins.  &lt;/p&gt;
&lt;p&gt;Below are steps used to install Pelican.  &lt;a href="https://www.python.org/downloads/"&gt;Python&lt;/a&gt; and &lt;a href="http://nodejs.org/download/"&gt;node.js&lt;/a&gt; must be installed (I was unable to generate posts containing IPython notebook files without node.js).  Console/terminal commands are contained in brackets.  &lt;/p&gt;
&lt;p&gt;An older version of IPython is needed because the CSS class names used for python syntax highlighting changed in IPython v2.3.  The liquid_tags notebook plugin appears to only know about the v1.2 CSS class names.  For example, in an IPython notebook, a function named &lt;code&gt;foo&lt;/code&gt; gets wrapped in a class by way of a &lt;code&gt;&amp;lt;span&amp;gt;&lt;/code&gt; element.  In IPython v1.2 this becomes &lt;code&gt;&amp;lt;span class="nf"&amp;gt;foo&amp;lt;/span&amp;gt;&lt;/code&gt;, but in v2.3 this is &lt;code&gt;&amp;lt;span class="cm-def"&amp;gt;foo&amp;lt;/span&amp;gt;&lt;/code&gt; (I used Chrome to inspect the elements).  I'm not smart enough to fix it, but I assume the problem begins in the plugin's notebook.custom_highlighter() function.  Inside this function a call is made to &lt;code&gt;HtmlFormatter(cssclass='highlight-ipynb')&lt;/code&gt; where &lt;code&gt;HtmlFormatter&lt;/code&gt; comes from the &lt;a href="http://pygments.org/"&gt;Pygments&lt;/a&gt; library.  &lt;/p&gt;
&lt;h2&gt;Quick pelican setup&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Make a dedicated directory to house the site's contents and change into it.  &lt;/li&gt;
&lt;li&gt;Set up a virtual environment&lt;br /&gt;
  a. &lt;strong&gt;[virtualenv env]&lt;/strong&gt;&lt;br /&gt;
  b. &lt;strong&gt;[env\scripts\activate]&lt;/strong&gt; &lt;br /&gt;
  c. &lt;strong&gt;[pip install pelican markdown ipython==1.2]&lt;/strong&gt;  &lt;/li&gt;
&lt;li&gt;Install plugins/themes&lt;br /&gt;
  a. &lt;strong&gt;[git clone https://github.com/getpelican/pelican-plugins.git]&lt;/strong&gt;&lt;br /&gt;
  b. &lt;strong&gt;[git clone https://github.com/getpelican/pelican-themes.git]&lt;/strong&gt;&lt;br /&gt;
  c. Find other themes by looking at other users' github repositories (e.g. &lt;a href="https://github.com/jakevdp/pelican-octopress-theme"&gt;octopress&lt;/a&gt;, &lt;a href="https://github.com/danielfrg/middle-theme"&gt;middle-theme&lt;/a&gt;)  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;[pelican-quickstart]&lt;/strong&gt;  // see &lt;a href="http://mathamy.com/migrating-to-github-pages-using-pelican.html"&gt;here&lt;/a&gt; for a list of questions that are asked  &lt;/li&gt;
&lt;li&gt;Configure Pelican via pelicanconf.py&lt;br /&gt;
  a. &lt;em&gt;DELETE_OUTPUT_DIRECTORY = False&lt;/em&gt;&lt;br /&gt;
  b. &lt;em&gt;PLUGIN_PATHS = ['path/to/pelican-plugins']&lt;/em&gt;&lt;br /&gt;
  c. &lt;em&gt;PLUGINS = ['liquid_tags.notebook', 'liquid_tags.literal']&lt;/em&gt;&lt;br /&gt;
  d. &lt;em&gt;EXTRA_HEADER = open('_nb_header.html').read().decode('utf-8') if os.path.exists('_nb_header.html') else None&lt;/em&gt;&lt;br /&gt;
  e. &lt;em&gt;NOTEBOOK_DIR = 'notebooks'&lt;/em&gt;&lt;br /&gt;
  f. &lt;em&gt;THEME = 'path/to/theme'&lt;/em&gt;&lt;br /&gt;
  g. &lt;em&gt;LOAD_CONTENT_CACHE = False&lt;/em&gt;  &lt;/li&gt;
&lt;li&gt;Edit the chosen theme's 'base.html' and add &lt;code&gt;{% if EXTRA_HEADER %}{{ EXTRA_HEADER }}{% endif %}&lt;/code&gt; to the &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; block  &lt;/li&gt;
&lt;li&gt;Configure 'content' directory&lt;br /&gt;
  a. &lt;strong&gt;[mkdir content/images]&lt;/strong&gt;&lt;br /&gt;
  b. &lt;strong&gt;[mkdir content/notebooks]&lt;/strong&gt;  &lt;/li&gt;
&lt;li&gt;Run the site generator with &lt;strong&gt;[make html]&lt;/strong&gt; or &lt;strong&gt;[make regenerate]&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Serve the site locally with &lt;strong&gt;[make serve]&lt;/strong&gt; or regenerate files + serve with &lt;strong&gt;[make devserver]&lt;/strong&gt; if not on Windows.  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Posts are written in markdown by the user and stored in content/, where each post's filename should have extension 'md'.  Notebooks are incorporated in a markdown post with:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;{% notebook file.ipynb cells[i:j] %}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The 'cells' argument is optional and can be omitted; the slices are standard python syntax.  The &lt;em&gt;LOAD_CONTENT_CACHE&lt;/em&gt; setting should be False if notebooks are edited after they're added to content/notebooks/.  Otherwise, the cached version is used by Pelican.  &lt;/p&gt;
&lt;p&gt;Initially, &lt;strong&gt;[make html]&lt;/strong&gt; must be run twice because '_nb_header.html' is only generated after the first run.  This file contains all the CSS/JS present in an IPython notebook.  &lt;/p&gt;
&lt;p&gt;Math blocks were left-aligned in IPython v1.2 but are centered in IPython v2.3, which is the preferred behavior.  To force centering of math blocks while using v1.2, I made copy of _nb_header.html, edited it to include the addition below, and pointed to it in pelicanconf.py's &lt;em&gt;EXTRA_HEADER&lt;/em&gt; setting.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;style&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/css&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
.MathJax_Display{text-align: center !important;}
&lt;span class="nt"&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Repositories&lt;/h2&gt;
&lt;p&gt;My choice was to have two repositories.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Inside the master directory where &lt;strong&gt;[pelican-quickstart]&lt;/strong&gt; is run.  &lt;/li&gt;
&lt;li&gt;A subdirectory of the above that holds the content pushed to the web server.  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The former has a .gitignore file that contains:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;*.pyc
cache/
env/
output/
username.github.io/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The latter repository is a &lt;a href="https://pages.github.com/"&gt;GitHub Pages&lt;/a&gt; repository.  The 'output/' directory generated by Pelican is copied to this repository.    &lt;/p&gt;
&lt;p&gt;This site's repository containing the raw Pelican content can be found &lt;a href="https://github.com/h-gens/h-gens.github.io-pelican"&gt;here&lt;/a&gt;.  The generated site can be found &lt;a href="https://github.com/h-gens/h-gens.github.io"&gt;here&lt;/a&gt;.  &lt;/p&gt;
&lt;h2&gt;Helpful references&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://jakevdp.github.io/blog/2013/05/07/migrating-from-octopress-to-pelican/"&gt;Migrating from Octopress to Pelican&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://ntanjerome.org/blog/how-to-setup-github-user-page-with-pelican/"&gt;How to setup Github User Page with Pelican&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://mathamy.com/migrating-to-github-pages-using-pelican.html"&gt;Migrating to GitHub Pages using Pelican&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/en/3.1.1/getting_started.html"&gt;Getting started&lt;/a&gt; (Pelican docs)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://pirsquared.org/blog/pelican-tags-vs-categories.html"&gt;tags-vs-categories in Pelican&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Script to summarize available Pelican themes&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;Ugly script used to summarize all pelican-themes.&lt;/span&gt;
&lt;span class="sd"&gt;https://github.com/getpelican/pelican-themes.&lt;/span&gt;

&lt;span class="sd"&gt;Place this script one level below THEMES_DIR.&lt;/span&gt;
&lt;span class="sd"&gt;It will generate summary.html containing the themes.  &lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;collections&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;OrderedDict&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;od&lt;/span&gt;

&lt;span class="n"&gt;THEMES_DIR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;pelican-themes&amp;#39;&lt;/span&gt;

&lt;span class="c"&gt;# first, discover all themes that have screenshots&lt;/span&gt;
&lt;span class="c"&gt;# each screenshot&amp;#39;s filename is stored&lt;/span&gt;
&lt;span class="n"&gt;contents&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;THEMES_DIR&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;accumulated_screenshots&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;od&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;entry&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;contents&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;theme_directory&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;THEMES_DIR&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;entry&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;theme_directory&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;entry&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;.git&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;theme_contents&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;theme_directory&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;accumulated_screenshots&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;entry&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;theme_file&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;theme_contents&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;theme_file&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;jpg&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;gif&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="n"&gt;accumulated_screenshots&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;entry&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;theme_file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# second, create an HTML file&lt;/span&gt;
&lt;span class="c"&gt;# the IMG elements point to the accumulated screenshots&lt;/span&gt;
&lt;span class="n"&gt;to_write&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;theme&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;screenshots&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;accumulated_screenshots&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iteritems&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;THEMES_DIR&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theme&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;screenshot&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;screenshots&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="c"&gt;# print the theme&amp;#39;s name only once&lt;/span&gt;
            &lt;span class="n"&gt;to_write&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;lt;h1&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s"&gt;&amp;lt;/h1&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;theme&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;screenshot_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;screenshot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;to_write&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;lt;center&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;to_write&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="s"&gt;&amp;#39;&amp;lt;img src=&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s"&gt;&amp;quot; height=500&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;screenshot_path&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;to_write&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;lt;/center&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;to_write&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;lt;br /&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;to_write&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;summary.html&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;writelines&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;to_write&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="python"></category></entry></feed>